---
include:
  - init-data.yml
---
features:
  css: docassemble.SmartDocx_sr:static/sd.css
---
metadata:
  title: |
    Leagal Services Agreenment Document
  short title: |
    Services Agreement
  description: |
    This the legal services agreement document
  authors:
    - name: William Best
      organization: Andjelkovic Law Firm
    - name: Nemanja Anđelković
      organization: Andjelkovic Law Firm
  revision_date: 2024-04-05
---
sections:
  - Client
  - Client Address
  - Lawyer
  - Lawyer Address
  - Amount
  - Sign
  - Signature
  - Complete
---
features:
  navigation: True
  progress bar: True
---
objects:
  - client: Individual
---
progress: 1
section: Client
question: |
  What is the client's name?
fields:
  - First Name: client.name.first
    default: |
      ${ sd_client_first_name }  
  - Middle Name: client.name.middle
    required: False
  - Last Name: client.name.last
    default: |
      ${ sd_client_last_name }  
  - Suffix: client.name.suffix
    required: False
    code: name_suffix()
---
objects:
  client_address: Address
---
progress: 15
section: Client Address
question: |
  What is the Client's address?
fields:
  - Address: client_address.address
    default: |
      ${ sd_client_street }  
  - Unit: client_address.unit
    required: False
  - City: client_address.city
    default: |
      ${ sd_client_city }  
  - State: client_address.state
    required: False
  - Postal Code: client_address.postal_code
    default: |
      ${ sd_client_zip }  
    required: False
  - Country: client_address.country
    code: |
      countries_list()
    required: False
---
objects:
  - lawyer: Individual
---
progress: 30
section: Lawyer
question: |
  What is the lawyer's name?
fields:
  - First Name: lawyer.name.first
    default: |
      ${ sd_lawyer_first_name }  
  - Middle Name: lawyer.name.middle
    required: False
  - Last Name: lawyer.name.last
    default: |
      ${ sd_lawyer_last_name }  
  - Suffix: lawyer.name.suffix
    required: False
    code: name_suffix()
---
objects:
  lawyer_address: Address
---
progress: 45
section: Lawyer Address
question: |
  What is the Lawyer's address?
fields:
  - Address: lawyer_address.address
    default: |
      ${ sd_lawyer_street }  
  - Unit: lawyer_address.unit
    required: False
  - City: lawyer_address.city
    default: |
      ${ sd_lawyer_city }  
  - State: lawyer_address.state
    required: False
  - Postal Code: lawyer_address.postal_code
    default: |
      ${ sd_lawyer_zip }  
    required: False
  - Country: lawyer_address.country
    code: |
      countries_list()
    required: False
---
progress: 60
section: Amount
question: |
  What is the legal service agreement fee amount?
fields:
  - Value: fee
    datatype: currency
under: |
  Client: ${client}<br>
  Client Address: ${client_address}<br>
  Lawyer: ${lawyer}<br>
  Lawyer Address: ${lawyer_address}
---
code: |
  fee_amount = "{:.2f}".format(fee)
---
mandatory: True
progress: 75
section: Sign
question: |
  What date did the client sign the agreement?
fields:
  - Date: date_signed
    datatype: date
---
under: |
  Client: ${client}<br>
  Client Address: ${client_address}<br>
  Lawyer: ${lawyer}<br>
  Lawyer Address: ${lawyer_address}<br>
  Fee Amount: ${fee_amount}
---
mandatory: True
question: Please sign below
progress: 90
section: Signature
subquestion: |
  By signing below, you acknowledge that your answers to the questions
  in this interview were truthful, to the best of your knowledge and you
  agree to the terms of the agreement.
signature: client_signature
under: |
  Client: ${client}<br>
  Client Address: ${client_address}<br>
  Lawyer: ${lawyer}<br>
  Lawyer Address: ${lawyer_address}<br>
  Fee Amount: ${fee_amount} <br>
  Date Signed: ${date_signed}
---
mandatory: True
progress: 100
section: Complete
question: |
  Your documents are ready.
attachment:
  - name: Leagal Services Agreenment Document
    filename: leagal_services_agreenment_document
    docx template file: legal-services-agreement_en.docx
    valid formats:
      - pdf
      - docx
buttons:
  - Save and Exit : continue
---
mandatory: True
code: |
  doc_path = doc_file.path()
  bucket_name = 'smart-docx-preview'
  upload_message = upload_to_s3(doc_path, bucket_name, 'generated/' + fileName)
  command('leave', url='https://smart-docx.com/assets/redirect.html?matterId=' + matterId)      